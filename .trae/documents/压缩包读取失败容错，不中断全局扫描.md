## 问题确认
- 读取压缩包条目时出现错误（如 RAR: “Failed the read enough data…”），当前日志显示为 ERROR，但扫描应继续。
- 现有代码已在条目级捕获异常并继续：
  - ZIP 条目错误继续：`pyFileIndexer/archive_scanner.py:187–203`
  - TAR 条目错误继续：`pyFileIndexer/archive_scanner.py:236–258`
  - RAR 条目错误继续：`pyFileIndexer/archive_scanner.py:290–307`
- 归档级错误在顶层捕获并跳过该包，不影响其他文件：
  - `pyFileIndexer/main.py:333–339`
  - 条目处理错误继续：`pyFileIndexer/main.py:306–327`

## 目标
- 压缩包内单个条目读取失败时继续处理其他条目，绝不导致工作线程或全局扫描中断。
- 归档级问题（无法打开/列出）仅跳过当前压缩包，不影响整体扫描。
- 降噪并增强可观测性，便于后续运维与统计。

## 修改点
1. 细化异常类型捕获并分级
- 在 ZIP/TAR/RAR 的 `scan_entries` 中，分别捕获典型异常：
  - ZIP：`zipfile.BadZipFile`, `zipfile.LargeZipFile`
  - TAR：`tarfile.ReadError`
  - RAR：`rarfile.Error`, `rarfile.BadRarFile`, `rarfile.NeedFirstVolume`, `rarfile.RarCRCError`
- 将条目读取失败计入 `metrics`：如 `archive_entry_read`，归档打开/列出失败计入 `archive_open`/`archive_list`。

2. 强化“列出条目”阶段的容错
- 将 ZIP 的 `filelist`、TAR 的 `getmembers`、RAR 的 `infolist` 包裹在 try/except 中；
- 对单个损坏条目/成员，记录错误后跳过并继续迭代，避免因列表阶段异常提前终止整个 `scan_entries`。

3. 宽容模式与日志级别
- 引入配置 `ARCHIVE_STRICT`（默认 False）：宽容模式下所有条目级错误仅记录后继续；严格模式可选择抛出并终止该归档。
- 将条目级读取失败日志降为 `WARNING`，归档级失败保持 `ERROR`，降低噪音同时保留关键告警。

4. 资源与健壮性
- 对大条目使用流式读取并限制单次块大小；在流中断时捕获异常并继续下一个条目。
- 增加“失败阈值”：同一归档连续条目失败超过 N（默认 50）时跳过该归档，限制病态损坏包的影响范围。

5. 验证
- 构造/使用已知损坏的 ZIP/TAR/RAR 样例：
  - 断裂条目、CRC 错误、分卷缺失
- 运行扫描：确认日志中仅出现条目级 WARNING，工作线程持续运行，其他文件与归档继续处理。
- 检查 `metrics`：`archive_entry_read` 与 `scan_archive` 计数符合预期。

## 改动文件
- `pyFileIndexer/archive_scanner.py`：按归档类型细化异常捕获与列表阶段容错，调整日志级别与失败阈值逻辑。
- `pyFileIndexer/main.py`：在 `scan_archive_file` 增加 `ARCHIVE_STRICT` 开关接入与度量标签；保持顶层 try/except 不中断线程。
- 若存在配置模块（如 `settings`/`config`）：添加 `ARCHIVE_STRICT` 与失败阈值参数。

## 交付结果
- 压缩包条目读取失败不再中断扫描；
- 损坏归档被有界跳过，不影响全局进度；
- 日志更清晰、度量更细化，便于后续监控与排错。

请确认以上方案，我将据此提交具体代码修改并验证。